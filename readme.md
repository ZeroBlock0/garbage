# çŒ«ç‹—å›¾åƒåˆ†ç±»é¡¹ç›®

## ç¯å¢ƒé…ç½®

### å®‰è£…æ­¥éª¤

1. **å®‰è£… Conda**
   - ä¸‹è½½ [Miniconda](https://docs.conda.io/en/latest/miniconda.html) æˆ– [Anaconda](https://www.anaconda.com/download)
   - æŒ‰ç…§å®‰è£…å‘å¯¼å®Œæˆå®‰è£…

2. **åˆ›å»ºç¯å¢ƒ**
   ```bash
   # ä½¿ç”¨ environment.yml
   conda env create -f environment.yml

   # æˆ–ä½¿ç”¨ requirements.txt
   conda create -n tf-gpu python=3.10
   conda activate tf-gpu
   pip install -r requirements.txt
   ```

3. **æ¿€æ´»ç¯å¢ƒ**
   ```bash
   conda activate tf-gpu
   ```

### å¿«é€Ÿå¼€å§‹

## é¡¹ç›®ç»“æ„

### æ•°æ®é›†ç›®å½• (dataset/)

dataset/
â”œâ”€â”€ train/
â”‚   â”œâ”€â”€ cats/
â”‚   â”‚   â””â”€â”€ [æ”¾å…¥è®­ç»ƒé›†çŒ«å’ªå›¾ç‰‡]
â”‚   â””â”€â”€ dogs/
â”‚       â””â”€â”€ [æ”¾å…¥è®­ç»ƒé›†ç‹—ç‹—å›¾ç‰‡]
â””â”€â”€ validation/
    â”œâ”€â”€ cats/
    â”‚   â””â”€â”€ [æ”¾å…¥éªŒè¯é›†çŒ«å’ªå›¾ç‰‡]
    â””â”€â”€ dogs/
        â””â”€â”€ [æ”¾å…¥éªŒè¯é›†ç‹—ç‹—å›¾ç‰‡]

### æ¨¡å‹ç›®å½• (models/)

models/
â”œâ”€â”€ best_model.keras # âœ¨ è®­ç»ƒè¿‡ç¨‹ä¸­çš„æœ€ä½³æ¨¡å‹
â””â”€â”€ interrupted_model.keras # ğŸ’¾ è®­ç»ƒä¸­æ–­æ—¶çš„å¤‡ä»½æ¨¡å‹

### æ¨ç†ç›®å½• (inference/)

inference/
â””â”€â”€ ğŸ“¸ å¾…é¢„æµ‹å›¾ç‰‡
â”œâ”€â”€ image1.jpg
â”œâ”€â”€ image2.png
â”œâ”€â”€ image3.jpeg
â””â”€â”€ ...

### æ¨ç†è¾“å‡ºç›®å½• (inference_output/)

inference_output/
â””â”€â”€ ğŸ“… [æ—¶é—´æˆ³ç›®å½•]/
â”œâ”€â”€ cats/ # ğŸ± åˆ†ç±»ä¸ºçŒ«çš„å›¾ç‰‡
â”‚ â””â”€â”€ [é¢„æµ‹ç»“æœ]
â”œâ”€â”€ dogs/ # ğŸ• åˆ†ç±»ä¸ºç‹—çš„å›¾ç‰‡
â”‚ â””â”€â”€ [é¢„æµ‹ç»“æœ]
â””â”€â”€ inference_results.txt # ğŸ“Š è¯¦ç»†é¢„æµ‹ç»“æœ

## ä½¿ç”¨è¯´æ˜

1. **å‡†å¤‡æ•°æ®é›†**
   - å°†è®­ç»ƒå›¾ç‰‡æ”¾å…¥ `dataset/train/` å¯¹åº”ç›®å½•
   - å°†éªŒè¯å›¾ç‰‡æ”¾å…¥ `dataset/validation/` å¯¹åº”ç›®å½•

2. **è®­ç»ƒæ¨¡å‹**
   - è¿è¡Œ `train.py` å¼€å§‹è®­ç»ƒ
   - æœ€ä½³æ¨¡å‹å°†ä¿å­˜åœ¨ `models/` ç›®å½•

3. **è¯„ä¼°æ¨¡å‹**
   - è¿è¡Œ `evaluate.py` è¯„ä¼°æ¨¡å‹æ€§èƒ½
   - æŸ¥çœ‹è¯¦ç»†è¯„ä¼°æŒ‡æ ‡ï¼š
     - å‡†ç¡®ç‡ (Accuracy)
     - ç²¾ç¡®ç‡ (Precision)
     - å¬å›ç‡ (Recall)
     - F1åˆ†æ•° (F1-Score)
     - æ··æ·†çŸ©é˜µ
     - åˆ†ç±»æŠ¥å‘Š

4. **å›¾ç‰‡é¢„æµ‹**
   - å°†å¾…é¢„æµ‹å›¾ç‰‡æ”¾å…¥ `inference/` ç›®å½•
   - è¿è¡Œ `inference.py` è¿›è¡Œé¢„æµ‹
   - æŸ¥çœ‹ `inference_output/` è·å–ç»“æœ

5. **è§†é¢‘å¤„ç†**
   - è¿è¡Œ `video_inference.py` å¤„ç†è§†é¢‘
   - è¾“å‡ºæ–‡ä»¶å°†ä¿å­˜ä¸º `out.mp4`

## é¡¹ç›®æ–‡ä»¶è¯´æ˜

### æ ¸å¿ƒè„šæœ¬
- `train.py`: æ¨¡å‹è®­ç»ƒè„šæœ¬
- `evaluate.py`: æ¨¡å‹è¯„ä¼°è„šæœ¬
- `inference.py`: å›¾ç‰‡é¢„æµ‹è„šæœ¬
- `video_inference.py`: è§†é¢‘å¤„ç†è„šæœ¬

### ç¯å¢ƒæ£€æŸ¥è„šæœ¬
- `check_gpu.py`: GPU å¯ç”¨æ€§æ£€æŸ¥
- `check_env.py`: ç¯å¢ƒå˜é‡æ£€æŸ¥
- `fast_check_gpu.py`: å¿«é€Ÿ GPU æ£€æµ‹

### ç¯å¢ƒé…ç½®æ–‡ä»¶
- `environment.yml`: Conda ç¯å¢ƒå®Œæ•´é…ç½®
- `requirements.txt`: ä¾èµ–åŒ…åˆ—è¡¨

## æ³¨æ„äº‹é¡¹

- æ¨èä½¿ç”¨ GPU è¿›è¡Œè®­ç»ƒå’Œæ¨ç†
- å®šæœŸå¤‡ä»½é‡è¦æ¨¡å‹æ–‡ä»¶
- ç¡®ä¿å·²æ­£ç¡®é…ç½® CUDA å’Œ cuDNN
- ç¡®ä¿å›¾ç‰‡æ ¼å¼ä¸ºjpgã€jpegæˆ–png
- å»ºè®®è®­ç»ƒé›†å’ŒéªŒè¯é›†æ¯”ä¾‹ä¸º8:2
- æ¯ä¸ªç±»åˆ«çš„å›¾ç‰‡æ•°é‡è¦ç›¸å¯¹å¹³è¡¡
- å›¾ç‰‡æ–‡ä»¶åä¸å½±å“è®­ç»ƒï¼Œä½†å»ºè®®æœ‰è§„å¾‹çš„å‘½å
- è¯„ä¼°ç»“æœå¯èƒ½éšæ•°æ®é›†å˜åŒ–è€Œå˜åŒ–